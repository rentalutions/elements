import { useState, useEffect } from "react"
import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs"
import { Flex, Box } from "@rent_avail/core"
import { Search } from "@rent_avail/icons"
import {
  Button,
  Checkbox,
  Input,
  Radio,
  Select,
  SelectItem,
  Switch,
} from "../src"
import { SelectStory } from "./select.story"

<Meta title="Packages / Controls" />

# Controls

This package contains a set of elements that allow a user to control state on a page.

```js
import {
  Button,
  Checkbox,
  Input,
  Radio,
  Select,
  SelectItem,
  Switch,
} from "@rent_avail/controls"
```

export function LoadingButton() {
  const [loading, setLoading] = useState(true)
  useEffect(() => {
    setTimeout(() => {
      setLoading(false)
    }, 3000)
  }, [])
  return <Button loading={loading}>Loaded Successfully</Button>
}

## Button

Buttons at Avail have uppercase text labels. Buttons come with two variants baked in and are extendable in whatever way you wish. The default button should be used the most. It is seen as clickable without being too distracting. If you have a set of buttons together use the primary button to distinguish the most desirable action.

<Canvas>
  <Story name="Button">
    <Flex sx={{ gap: 2 }}>
      <Button>Standard</Button>
      <Button variant="primary">Primary</Button>
      <Button variant="danger">Danger</Button>
      <Button variant="success">Success</Button>
      <Button disabled>Disabled</Button>
      <LoadingButton />
    </Flex>
  </Story>
</Canvas>

<ArgsTable of={Button} />

## Checkbox

Checkboxes are user selection tools when multiple options can be chosen at the same time. A user should be able to select one or more options from a set.

<Canvas>
  <Story name="Checkbox">
    <Flex sx={{ gap: 2 }}>
      <Checkbox />
      <Checkbox defaultChecked />
    </Flex>
  </Story>
</Canvas>

<ArgsTable of={Checkbox} />

---

## Radio

Radio buttons are used to select one option from a set. Use radio buttons when it's helpful for the user to see all the available choices when selecting.

<Canvas>
  <Story name="Radio">
    <Flex sx={{ gap: 2 }}>
      <Radio />
      <Radio defaultChecked />
    </Flex>
  </Story>
</Canvas>

<ArgsTable of={Radio} />

## Switch

Switches selection controls that change data immediately. They need to be understood as a boolean (on/off). Toggles are the preferred way to update settings on mobile.

<Canvas>
  <Story name="Switch">
    <Flex sx={{ gap: 2 }}>
      <Switch />
      <Switch defaultChecked />
    </Flex>
  </Story>
</Canvas>

<ArgsTable of={Switch} />

## Input

Text inputs let users enter and edit text information. They are made up of a label, value, helper text, and optionally a leading / trailing icon.

<Canvas isColumn>
  <Story name="Input">
    <Input icon={Search} label="Find Your Next Property" />
  </Story>
  <Story name="Input Error">
    <Input
      icon={Search}
      label="Find Your Next Property"
      error="Property Not Found"
    />
  </Story>
  <Story name="Input Disabled">
    <Input icon={Search} label="Find Your Next Property" disabled />
  </Story>
</Canvas>

<ArgsTable of={Input} />

## Select

<Canvas>
  <Story story={SelectStory} name="Select" />
</Canvas>
